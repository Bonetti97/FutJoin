<form name="formComplejo" #formComplejo="ngForm" (ngSubmit)="formComplejo.form.valid && complejoOnSubmit()">
  <br/><br/>
  <div fxLayout="column" fxLayoutAlign="center center">
      <br/><br/>
    <div  fxFlexAlign="center">
            <div class="form-group">
                <mat-form-field>
                    <input type="text" name="nombre" matInput placeholder="Introduzca el nombre" class="form-control"
                        [(ngModel)]="userComplejo.nombre" #nombre="ngModel" required />
                    <mat-error *ngIf="nombre.invalid && (nombre.dirty || nombre.touched)" >
                        <mat-error *ngIf="nombre.errors['required']">Introduzca su nombre completo.</mat-error>
                    </mat-error>
                </mat-form-field>
            </div>

            <div class="form-group">
                <mat-form-field>
                    <input type="text" name="email" matInput placeholder="Email" class="form-control"
                        [(ngModel)]="userComplejo.email" #email="ngModel" required email />
                    <mat-error *ngIf="email.invalid && (email.dirty || email.touched)">
                        <mat-error *ngIf="email.errors['required']">El email es obligatorio.</mat-error>
                        <mat-error *ngIf="email.errors['email']">Por favor, introduce un email válido.</mat-error>
                    </mat-error>
                </mat-form-field>
            </div>

            <div class="form-group">
                <mat-form-field>
                    <input type="password" name="password" matInput placeholder="Contraseña" class="form-control"
                            [(ngModel)]="userComplejo.password" #password="ngModel" equired pattern="^(?=.*[0-9]+.*)(?=.*[a-zA-Z]+.*)[0-9a-zA-Z!?-_]{6,}$"/>
                    <mat-error *ngIf="password.invalid && (password.dirty || password.touched)" >
                        <mat-error *ngIf="password.errors['required']">Introduzca la contraseña.</mat-error>
                        <mat-error *ngIf="password.errors['pattern']"> La contraseña debe contener por lo menos un numero y tener más de 8 carácteres. </mat-error>
                    </mat-error>
                </mat-form-field>
            </div>

            <div class="form-group">
                <mat-form-field>
                    <input type="text" name="codigoPostal" matInput placeholder="Codigo postal" class="form-control"
                            [(ngModel)]="userComplejo.codigoPostal" #codigoPostal="ngModel" required pattern="[0-9]{5}"/>
                    <mat-error *ngIf="codigoPostal.invalid && (codigoPostal.dirty || codigoPostal.touched)" >
                        <mat-error *ngIf="codigoPostal.errors['pattern']">Introduzca un CP válido</mat-error>
                    </mat-error>
                </mat-form-field>
            </div>


            <div class="form-group">
                <mat-form-field>
                    <input type="text" name="telefono" matInput placeholder="Telefono" class="form-control"
                            [(ngModel)]="userComplejo.telefono" #telefono="ngModel" required pattern="[0-9]{9}"/>
                    <mat-error *ngIf="telefono.invalid && (telefono.dirty || telefono.touched)" >
                        <mat-error *ngIf="telefono.errors['pattern']">Introduzca un numeoro de telefono válido</mat-error>
                    </mat-error>
                </mat-form-field>
            </div>

            <div class="form-group">
                <mat-form-field>
                    <input type="direccion" name="direccion" matInput placeholder="Direccion" class="form-control"
                            [(ngModel)]="complejo.direccion" #direccion="ngModel" required/>
                </mat-form-field>
            </div>

            <div class="form-group">
                <input type="file" id="file" #fileInput placeholder = "subir Imagen..." (change) = "fileChangeEvent($event)">
            </div><br/>
           <button mat-raised-button color="primary" type="submit" fxLayoutAlign = "end">Crear Complejo</button>
      </div>
    </div>
</form>

